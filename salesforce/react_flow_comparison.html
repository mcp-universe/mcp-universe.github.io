<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReAct Agent Flow Comparison - Transform vs No Transform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        .flow-section {
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            background-color: #fafafa;
        }
        .flow-section h2 {
            text-align: center;
            margin-top: 0;
            padding: 10px;
            border-radius: 5px;
        }
        .with-transform h2 {
            background-color: #ffeb3b;
            color: #f57f17;
        }
        .without-transform h2 {
            background-color: #4caf50;
            color: #1b5e20;
        }
        .config-info {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        .with-transform .config-info {
            background-color: #fff3e0;
            border-left: 4px solid #ff9800;
        }
        .without-transform .config-info {
            background-color: #e8f5e8;
            border-left: 4px solid #4caf50;
        }
        .diagram-container {
            text-align: center;
            margin: 15px 0;
        }
        .summary-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #dee2e6;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .summary-card {
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .pros-card {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        .cons-card {
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        .pros-card h4 {
            color: #155724;
            margin-top: 0;
        }
        .cons-card h4 {
            color: #721c24;
            margin-top: 0;
        }
        .navigation {
            text-align: center;
            margin: 20px 0;
        }
        .nav-button {
            display: inline-block;
            padding: 10px 20px;
            margin: 0 10px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .nav-button:hover {
            background-color: #0056b3;
        }
        @media (max-width: 768px) {
            .comparison-grid, .summary-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÑ ReAct Agent Flow Comparison</h1>
        <p style="text-align: center; color: #666; font-size: 18px;">
            Comparing execution flows with and without tool response transformation
        </p>

        <div class="navigation">
            <a href="react_flow_with_transform.html" class="nav-button">üîß View Detailed Transform Flow</a>
            <a href="react_flow_without_transform.html" class="nav-button">‚ö° View Detailed Non-Transform Flow</a>
        </div>

        <div class="comparison-grid">
            <!-- WITH Transform -->
            <div class="flow-section with-transform">
                <h2>üîß WITH Tool Transform</h2>
                <div class="config-info">
                    <strong>Config:</strong> <code>transform_tool_response_by_coding = True</code>
                </div>
                <div class="diagram-container">
                    <div class="mermaid">
                        flowchart TD
                            A1[Tool Execution Complete] --> B1{Need Transform?}
                            B1 -->|No| C1[‚ùå Skip Transform<br/>Use Raw Output]
                            B1 -->|Yes| D1[üîß INTELLIGENT TRANSFORM<br/>Analyze + Generate + Execute Code]
                            
                            D1 --> E1{Success?}
                            E1 -->|Yes| F1[‚úÖ Use Transformed Data]
                            E1 -->|No| G1[üîÑ RETRY & SELF-REFINE<br/>Up to 3 attempts with error feedback]
                            
                            G1 --> H1{More Attempts?}
                            H1 -->|Yes| D1
                            H1 -->|No| I1[‚ùå Fallback to Original]
                            
                            F1 --> J1[Continue Agent Loop]
                            C1 --> J1
                            I1 --> J1
                            
                            style D1 fill:#ffeb3b,stroke:#f57f17,stroke-width:3px
                            style G1 fill:#ff5722,stroke:#bf360c,stroke-width:3px
                            style H1 fill:#2196f3,stroke:#0d47a1,stroke-width:2px
                    </div>
                </div>
            </div>

            <!-- WITHOUT Transform -->
            <div class="flow-section without-transform">
                <h2>‚ö° WITHOUT Tool Transform</h2>
                <div class="config-info">
                    <strong>Config:</strong> <code>transform_tool_response_by_coding = False</code>
                </div>
                <div class="diagram-container">
                    <div class="mermaid">
                        flowchart TD
                            A2[Tool Execution Complete] --> B2{Summarize Mode?}
                            B2 -->|Yes| C2[üìù LLM Summary<br/>Simple Overview]
                            B2 -->|No| D2[‚úÖ USE RAW OUTPUT]
                            
                            C2 --> E2[Continue Agent Loop]
                            D2 --> E2
                            
                            style D2 fill:#4caf50,stroke:#2e7d32,stroke-width:3px
                            style C2 fill:#03a9f4,stroke:#0277bd,stroke-width:2px
                    </div>
                </div>
            </div>
        </div>

        <div class="summary-section">
            <h2 style="text-align: center; color: #2c3e50;">üìä Detailed Comparison</h2>
            
            <div class="summary-grid">
                <!-- Transform Mode Pros/Cons -->
                <div>
                    <h3 style="text-align: center; color: #f57f17;">üîß Transform Mode</h3>
                    <div class="summary-card pros-card">
                        <h4>‚úÖ Advantages</h4>
                        <ul>
                            <li>Intelligent data processing</li>
                            <li>Extracts relevant information</li>
                            <li>Handles complex/bulky responses</li>
                            <li>Function reuse capability</li>
                            <li>Context-aware transformations</li>
                            <li><strong>üîÑ Retry system</strong> (up to 3 attempts)</li>
                            <li><strong>üõ†Ô∏è Self-refinement</strong> with error feedback</li>
                            <li><strong>‚ùå Graceful degradation</strong> on failure</li>
                        </ul>
                    </div>
                    <div class="summary-card cons-card">
                        <h4>‚ùå Disadvantages</h4>
                        <ul>
                            <li>Higher latency (extra LLM calls)</li>
                            <li>Increased token usage</li>
                            <li>Potential transformation errors</li>
                            <li>More complex error handling</li>
                            <li>May lose some data in transformation</li>
                        </ul>
                    </div>
                </div>

                <!-- Non-Transform Mode Pros/Cons -->
                <div>
                    <h3 style="text-align: center; color: #2e7d32;">‚ö° Non-Transform Mode</h3>
                    <div class="summary-card pros-card">
                        <h4>‚úÖ Advantages</h4>
                        <ul>
                            <li>Faster execution</li>
                            <li>Lower token usage</li>
                            <li>Complete data preservation</li>
                            <li>Simpler flow</li>
                            <li>No transformation errors</li>
                            <li>Predictable behavior</li>
                        </ul>
                    </div>
                    <div class="summary-card cons-card">
                        <h4>‚ùå Disadvantages</h4>
                        <ul>
                            <li>May overwhelm with raw data</li>
                            <li>No intelligent processing</li>
                            <li>Harder to extract key info</li>
                            <li>Bulky responses in history</li>
                            <li>Less context-aware</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="margin-top: 30px; padding: 20px; background-color: #e3f2fd; border-radius: 8px; border-left: 4px solid #2196f3;">
                <h3 style="margin-top: 0; color: #1565c0;">üéØ Recommendation Guidelines</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <h4 style="color: #f57f17;">Use Transform Mode When:</h4>
                        <ul>
                            <li>Working with complex APIs</li>
                            <li>Processing large datasets</li>
                            <li>Need specific data extraction</li>
                            <li>Building sophisticated workflows</li>
                            <li>Quality over speed is priority</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #2e7d32;">Use Non-Transform Mode When:</h4>
                        <ul>
                            <li>Simple tool interactions</li>
                            <li>Performance is critical</li>
                            <li>Need complete raw data</li>
                            <li>Debugging tool responses</li>
                            <li>Speed over processing is priority</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>
